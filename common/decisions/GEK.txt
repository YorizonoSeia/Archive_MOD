 GEK_state_government_takeover_category = { #주정부 인수
	GEK_state_government_takeover = {
		icon = GFX_decision_eng_trade_unions_support
		highlight_states = {
			highlight_state_targets = {
				state = FROM
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}
		target_array = GEK.controlled_states
		state_target = yes
		target_trigger = {
			FROM = {
				has_dynamic_modifier = {
					modifier = GEH_state_government
				}
			}
		}
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 200
		}
		visible = {
		OR = {
				original_tag = GEK
				original_tag = GEA
				original_tag = NSD
				original_tag = KPD
			}
		}
		available = {
			political_power_daily > 0
		}
		
		cost = 5
		
		days_remove = 24

		modifier = {
			political_power_cost = 0.35
		}
		
		remove_effect = {
			add_stability = 0.01
			FROM = {
				remove_dynamic_modifier = {
					modifier = GEH_state_government
				}
			}
		}
	}

}
GEK_max_coalition = { #대연정
	GEK_flatering_coalition = { #붕괴하는 대연정
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = GEK
		}
		activation = {
			always = no
		}
		available = {
			NOT = {
				has_idea = GEK_solidarity_across_ideology_1
				has_idea = GEK_solidarity_across_ideology
			}
		}
		days_mission_timeout = 30
		timeout_effect = {
			if = {
				limit = {
					has_idea = GEK_solidarity_across_ideology_1
				}
				swap_ideas = {
					remove_idea = GEK_solidarity_across_ideology_1
					add_idea = GEK_solidarity_across_ideology
				}
				activate_mission = GEK_flatering_coalition
			}
			else = {
				remove_ideas = GEK_solidarity_across_ideology
				country_event = {
					id = GEK_rm_event.11

				}
				hidden_effect = {
					complete_national_focus = GEK_RM_army_focus_5
				}
			}
		}
	}
}
GEK_attack_gehenna = {
	GEK_imminent_war = { #임박한 공세
		icon = GFX_decision_generic_civil_support
		allowed = {
			original_tag = GEK
		}
		activation = {
			always = no
		}
		fire_only_once = yes
		days_mission_timeout = 35
		available = {
			always = no
		}
		timeout_effect = {
			declare_war_on = {
				target = GEH
				type = annex_everything
			}
			declare_war_on = {
				target = GEM
				type = annex_everything
			}
		}
		visible = {
			OR = {
				GEH = {
					exists = yes
				}
				GEM = {
					exists = yes
				}
			}
		}
		priority = 100
	}
	GEK_strengthening_the_free_corps = {

		icon = GFX_decision_hol_draw_up_staff_plans

		allowed = {
			original_tag = GEK
		}

		available = {
			GEM = {
				NOT = {
					has_country_flag = GEH_start_nego
				}
			}
			NOT = { has_country_flag = GEK_attack_gehenna_flag }
		}

		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = GEK_win_the_war_GEH_tt
				controls_state = 42
				controls_state = 50
				controls_state = 51
				controls_state = 52
				controls_state = 53
				controls_state = 54
				controls_state = 55
				controls_state = 56
				controls_state = 57
				controls_state = 59
				controls_state = 978
				controls_state = 987
				controls_state = 990
			}
		}
		
		cost = 50

		days_remove = -1

		modifier = {
			weekly_manpower = 1000
		}

		complete_effect = {
			add_to_variable = {
				GEK_attack_gehenna_var = 1
			}
			set_country_flag = {
				flag = GEK_attack_gehenna_flag
				days = 70
				value = 1
			}
		}
		visible = {
			OR = {
				GEH = {
					exists = yes
				}
				GEM = {
					exists = yes
				}
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
	GEK_anti_gehenna_tactics = {

		icon = GFX_decision_hol_draw_up_staff_plans

		allowed = {
			original_tag = GEK
		}

		available = {
			GEM = {
				NOT = {
					has_country_flag = GEH_start_nego
				}
			}
			NOT = { has_country_flag = GEK_attack_gehenna_flag }
		}

		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = GEK_win_the_war_GEH_tt
				controls_state = 42
				controls_state = 50
				controls_state = 51
				controls_state = 52
				controls_state = 53
				controls_state = 54
				controls_state = 55
				controls_state = 56
				controls_state = 57
				controls_state = 59
				controls_state = 978
				controls_state = 987
				controls_state = 990
			}
		}
		
		cost = 50

		days_remove = -1
		
		targeted_modifier = {
			tag = GEM
			attack_bonus_against = 0.10
			defense_bonus_against = 0.10
		}

		targeted_modifier = {
			tag = GEH
			attack_bonus_against = 0.10
			defense_bonus_against = 0.10
		}
		visible = {
			OR = {
				GEH = {
					exists = yes
				}
				GEM = {
					exists = yes
				}
			}
		}

		complete_effect = {
			add_to_variable = {
				GEK_attack_gehenna_var = 1
			}
			set_country_flag = {
				flag = GEK_attack_gehenna_flag
				days = 70
				value = 1
			}
		}


		ai_will_do = {
			factor = 200
		}
	}
	GEK_amphibious_assault = {

		icon = GFX_decision_hol_draw_up_staff_plans

		allowed = {
			original_tag = GEK
		}

		available = {
			GEM = {
				NOT = {
					has_country_flag = GEH_start_nego
				}
			}
			NOT = { has_country_flag = GEK_attack_gehenna_flag }
		}

		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = GEK_win_the_war_GEH_tt
				controls_state = 42
				controls_state = 50
				controls_state = 51
				controls_state = 52
				controls_state = 53
				controls_state = 54
				controls_state = 55
				controls_state = 56
				controls_state = 57
				controls_state = 59
				controls_state = 978
				controls_state = 987
				controls_state = 990
			}
		}
		
		cost = 50

		days_remove = -1
		
		modifier = {
			army_speed_factor = 0.10
		}
		
		targeted_modifier = {
			tag = GEM
			attack_bonus_against = 0.05
		}
		
		targeted_modifier = {
			tag = GEH
			attack_bonus_against = 0.05
		}
		visible = {
			OR = {
				GEH = {
					exists = yes
				}
				GEM = {
					exists = yes
				}
			}
		}

		complete_effect = {
			add_to_variable = {
				GEK_attack_gehenna_var = 1
			}
			set_country_flag = {
				flag = GEK_attack_gehenna_flag
				days = 70
				value = 1
			}
		}


		ai_will_do = {
			factor = 200
		}
	}
	GEK_weapons_production_plan = {

		icon = GFX_decision_hol_draw_up_staff_plans

		allowed = {
			original_tag = GEK
		}

		available = {
			GEM = {
				NOT = {
					has_country_flag = GEH_start_nego
				}
			}
			NOT = { has_country_flag = GEK_attack_gehenna_flag }
		}

		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = GEK_win_the_war_GEH_tt
				controls_state = 42
				controls_state = 50
				controls_state = 51
				controls_state = 52
				controls_state = 53
				controls_state = 54
				controls_state = 55
				controls_state = 56
				controls_state = 57
				controls_state = 59
				controls_state = 978
				controls_state = 987
				controls_state = 990
			}
		}
		
		cost = 50

		days_remove = -1
		
		modifier = {
			industrial_capacity_dockyard = 0.15
			industrial_capacity_factory = 0.15
		}
		visible = {
			OR = {
				GEH = {
					exists = yes
				}
				GEM = {
					exists = yes
				}
			}
		}

		complete_effect = {
			add_to_variable = {
				GEK_attack_gehenna_var = 1
			}
			set_country_flag = {
				flag = GEK_attack_gehenna_flag
				days = 70
				value = 1
			}
		}


		ai_will_do = {
			factor = 200
		}
	}
	GEK_corsair_plan = {

		icon = GFX_decision_infiltrate_state

		allowed = {
			original_tag = GEK
		}

		available = {
			GEM = {
				NOT = {
					has_country_flag = GEH_start_nego
				}
			}
			custom_trigger_tooltip = {
				tooltip = GEK_attack_gehenna_2_tooltip
				check_variable = {
					GEK_attack_gehenna_var > 3
				}
			}
			NOT = { has_country_flag = GEK_attack_gehenna_flag }
		}
		visible = {
			OR = {
				GEH = {
					exists = yes
				}
				GEM = {
					exists = yes
				}
			}
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = GEK_win_the_war_GEH_tt
				controls_state = 42
				controls_state = 50
				controls_state = 51
				controls_state = 52
				controls_state = 53
				controls_state = 54
				controls_state = 55
				controls_state = 56
				controls_state = 57
				controls_state = 59
				controls_state = 978
				controls_state = 987
				controls_state = 990
			}
		}
		
		cost = 50

		days_remove = -1
	
		targeted_modifier = {
			tag = GEM
			attack_bonus_against = 0.05
		}
		
		targeted_modifier = {
			tag = GEH
			attack_bonus_against = 0.05
		}

		complete_effect = {
			add_to_variable = {
				GEK_attack_gehenna_var = 1
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
	GEK_emergency_mobilization = {
		visible = {
			OR = {
				GEH = {
					exists = yes
				}
				GEM = {
					exists = yes
				}
			}
		}

		icon = GFX_decision_infiltrate_state

		allowed = {
			original_tag = GEK
		}

		available = {
			GEM = {
				NOT = {
					has_country_flag = GEH_start_nego
				}
			}
			custom_trigger_tooltip = {
				tooltip = GEK_attack_gehenna_2_tooltip
				check_variable = {
					GEK_attack_gehenna_var > 3
				}
			}
			NOT = { has_country_flag = GEK_attack_gehenna_flag }
		}

		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = GEK_win_the_war_GEH_tt
				controls_state = 42
				controls_state = 50
				controls_state = 51
				controls_state = 52
				controls_state = 53
				controls_state = 54
				controls_state = 55
				controls_state = 56
				controls_state = 57
				controls_state = 59
				controls_state = 978
				controls_state = 987
				controls_state = 990
			}
		}
		
		cost = 50

		days_remove = -1

		modifier = {
			conscription = 0.01
			conscription_factor = 0.10
			mobilization_speed = 0.05
		}

		complete_effect = {
			add_to_variable = {
				GEK_attack_gehenna_var = 1
			}
		}

		ai_will_do = {
			factor = 200
		}
	}
}
political_actions = {
	GEA_contact_the_war_navy = {

		icon = GFX_decision_hol_draw_up_staff_plans

		allowed = {
			original_tag = GEA
		}

		available = {
			GEK = {
				exists = yes
				has_country_flag = GEK_communication_with_the_mainland_flag
			}
			NOT = {
				GEM = { has_country_flag = GEH_start_nego }
			}
		}

		days_remove = 10

		remove_effect = {
			GEK = { country_event =  { id = GEK_event.4 days = 3 } }
		}

		ai_will_do = {
			factor = 200
		}
	}
}

GEK_story_archive = {
	GEK_show_story_archive_gui = {
		icon = generic_operation
		allowed = {
			OR = {
				original_tag = GEK
				original_tag = BAY
			}
		}

		visible = {
			ROOT = {
				check_variable = {
					story_archive = 0
				}
			}
		}

		available = {
		}

		complete_effect = {
			ROOT = {
				set_variable = {
					story_archive = 1			
				}
			}
			BA_storyarchive_openui_effects = yes
		}

		cost = 0

		ai_will_do = {
			factor = 0
		}
	}
}


GEK_price_controls_cat = {
	GEK_guns_before_butter = {

		icon = GFX_decision_ger_military_buildup

		ai_will_do = {
			base = 5
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.2 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.3 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.4 }
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.1 }
			}
		}

		available = {
		}

		visible = { #This decision is not available for the 1939 Start
			NOT = { has_country_flag = GER_inactivate_price_control_measures_flag }
		}

		cost = 30

		fire_only_once = yes

		complete_effect = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.05
				tooltip = consumer_goods_factor_tt
			}
			GER_reduce_mefo_bills_penalty = yes
			add_war_support = 0.025
		}
	}

	GEK_arbeit_und_brot = {

		icon = GFX_decision_generic_political_address

		ai_will_do = {
			base = 5
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.2 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.3 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.4 }
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.1 }
			}
		}

		available = {
		}

		visible = { #This decision is not available for the 1939 Start
			NOT = { has_country_flag = GER_inactivate_price_control_measures_flag }
		}

		cost = 30

		fire_only_once = yes

		complete_effect = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.05
				tooltip = consumer_goods_factor_tt
			}
			GER_reduce_mefo_bills_penalty = yes
			add_popularity = { ideology = ROOT popularity = 0.025 }
		}
	}
	GEK_collect_scrap_metal = {

		icon = GFX_decision_steel

		ai_will_do = {
			base = 5
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.2 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.3 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.4 }
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.1 }
			}
		}

		available = {
		}

		visible = { #This decision is not available for the 1939 Start
			NOT = { has_country_flag = GER_inactivate_price_control_measures_flag }
		}

		cost = 30

		fire_only_once = yes

		complete_effect = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.05
				tooltip = consumer_goods_factor_tt
			}
			GER_reduce_mefo_bills_penalty = yes
			add_timed_idea = {
				idea = GER_collect_scrap_metal_ns
				days = 90
			}
		}
	}
	GEK_ersatz_material = {

		icon = GFX_decision_generic_consumer_goods

		ai_will_do = {
			base = 5
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.2 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.3 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.4 }
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.1 }
			}
		}

		available = {
			has_completed_focus = GEAF_coal_liquefaction
		}

		visible = { #This decision is not available for the 1939 Start
			NOT = { has_country_flag = GER_inactivate_price_control_measures_flag }
		}

		cost = 30

		fire_only_once = yes

		complete_effect = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.05
				tooltip = consumer_goods_factor_tt
			}
			GER_reduce_mefo_bills_penalty = yes
		}
	}
	GEK_import_tariffs = {

		icon = GFX_decision_eng_trade_unions_demand

		ai_will_do = {
			base = 2.5
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.2 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.3 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.4 }
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.1 }
			}
		}

		available = {
		}

		visible = { #This decision is not available for the 1939 Start
			NOT = { has_country_flag = GER_inactivate_price_control_measures_flag }
		}

		cost = 15

		fire_only_once = yes

		complete_effect = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.15
				tooltip = consumer_goods_factor_tt
			}
			GER_reduce_mefo_bills_penalty = yes
			add_timed_idea = {
				idea = GER_import_tariffs_ns
				days = 365
			}
		}
	}
	GEK_implement_rations = {

		icon = GFX_decision_eng_trade_unions_support

		ai_will_do = {
			base = 2.5
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.2 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.3 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.4 }
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.1 }
			}
		}

		available = {
			has_stability > 0.2
		}

		visible = { #This decision is not available for the 1939 Start
			NOT = { has_country_flag = GER_inactivate_price_control_measures_flag }
		}

		cost = 15

		fire_only_once = yes

		complete_effect = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.1
				tooltip = consumer_goods_factor_tt
			}
			GER_reduce_mefo_bills_penalty = yes
			add_stability = -0.025
		}
	}
	GEK_implement_wage_controls = {

		icon = GFX_decision_hol_attract_foreign_investors

		ai_will_do = {
			base = 2.5
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.2 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.3 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.4 }
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.1 }
			}
		}

		available = {
			has_stability > 0.2
		}

		visible = { #This decision is not available for the 1939 Start
			NOT = { has_country_flag = GER_inactivate_price_control_measures_flag }
		}

		cost = 15

		fire_only_once = yes

		complete_effect = {
			GER_modify_industrial_modifier = yes
			add_to_variable = { 
				GER_industrial_consumer_goods_factor = -0.1
				tooltip = consumer_goods_factor_tt
			}
			GER_reduce_mefo_bills_penalty = yes
			add_stability = -0.025
		}
	}
}

GEK_religion_issue_cat = { #종교 정책
	GEK_conversion_to_protestant = { #개신교 개종
		icon = GFX_decision_eng_trade_unions_support
		highlight_states = {
			highlight_state_targets = {
				state = FROM
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}
		target_array = GEK.controlled_states
		state_target = yes
		target_trigger = {
			FROM = {
				OR = {
					has_dynamic_modifier = {
						modifier = GEK_ari_religion
					}
					has_dynamic_modifier = {
						modifier = GEK_trm_christianity_state
					}
					has_dynamic_modifier = {
						modifier = GEK_no_religion
					}
					has_dynamic_modifier = {
						modifier = ARI_Gottglaubig_religion
					}
				}
			}
		}
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 200
		}
		visible = {
		OR = {
				original_tag = GEK
				original_tag = GEA
				original_tag = NSD
				original_tag = KPD
			}
			has_completed_focus = GEK_RM_rel_focus_1
			NOT = {
				has_completed_focus = GEK_RM_rel_focus_6
			}
		}
		available = {
			political_power_daily > 0
		}
		
		cost = 10
		
		days_remove = 180

		modifier = {
			political_power_cost = 0.15
			consumer_goods_factor = 0.05
		}
		complete_effect = {
			FROM = {
				add_manpower = 3000
			}
		}
		remove_effect = {
			FROM = {
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = GEK_ari_religion
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = GEK_ari_religion
					}
					add_dynamic_modifier = {
						modifier = GEK_protestant_state
					}
				}
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = GEK_no_religion
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = GEK_no_religion
					}
					add_dynamic_modifier = {
						modifier = GEK_protestant_state
					}
				}
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = GEK_trm_christianity_state
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = GEK_trm_christianity_state
					}
					add_dynamic_modifier = {
						modifier = GEK_protestant_state
					}
				}
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = ARI_Gottglaubig_religion
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = ARI_Gottglaubig_religion
					}
					add_dynamic_modifier = {
						modifier = GEK_protestant_state
					}
				}
			}
		}
	}
	GEK_insist_spirit_of_capitalism = { #'자본주의 정신' 강조
		icon = GFX_decision_gre_paying_ifc_debt
		highlight_states = {
			highlight_state_targets = {
				state = FROM
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}
		target_array = GEK.controlled_states
		state_target = yes
		target_trigger = {
			FROM = {
				AND = {
					has_dynamic_modifier = {
						modifier = GEK_protestant_state
					}
					NOT = {
						has_dynamic_modifier = {
							modifier = GEK_spirit_of_capitalism_state
						}
					}
				}
			}
		}
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 200
		}
		visible = {
			OR = {
				original_tag = GEK
				original_tag = GEA
				original_tag = NSD
				original_tag = KPD
			}
			has_completed_focus = GEK_RM_rel_focus_4
		}
		
		cost = 10
		
		complete_effect = {
			FROM = {
				add_dynamic_modifier = {
					modifier = GEK_spirit_of_capitalism_state
				}
			}
		}
	}
	GEK_conversion_to_catholic = { #가톨릭 개종
		icon = GFX_decision_eng_trade_unions_support
		highlight_states = {
			highlight_state_targets = {
				state = FROM
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}
		target_array = GEK.controlled_states
		state_target = yes
		target_trigger = {
			FROM = {
				OR = {
					has_dynamic_modifier = {
						modifier = GEK_ari_religion
					}
					has_dynamic_modifier = {
						modifier = GEK_trm_christianity_state
					}
					has_dynamic_modifier = {
						modifier = GEK_no_religion
					}
					has_dynamic_modifier = {
						modifier = ARI_Gottglaubig_religion
					}
				}
			}
		}
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 200
		}
		visible = {
			OR = {
				original_tag = GEK
				original_tag = GEA
				original_tag = NSD
				original_tag = KPD
			}
			has_completed_focus = GEK_RM_rel_focus_3
			NOT = {
				has_completed_focus = GEK_RM_rel_focus_6
			}
		}
		available = {
			political_power_daily > 0
		}
		
		cost = 10
		
		days_remove = 180

		modifier = {
			political_power_cost = 0.15
			consumer_goods_factor = 0.05
		}
		complete_effect = {
			FROM = {
				add_manpower = 3000
			}
		}
		remove_effect = {
			FROM = {
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = GEK_ari_religion
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = GEK_ari_religion
					}
					add_dynamic_modifier = {
						modifier = GEK_catholic_state
					}
				}
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = GEK_no_religion
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = GEK_no_religion
					}
					add_dynamic_modifier = {
						modifier = GEK_catholic_state
					}
				}
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = GEK_trm_christianity_state
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = GEK_trm_christianity_state
					}
					add_dynamic_modifier = {
						modifier = GEK_catholic_state
					}
				}
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = ARI_Gottglaubig_religion
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = ARI_Gottglaubig_religion
					}
					add_dynamic_modifier = {
						modifier = GEK_catholic_state
					}
				}
			}
		}
	}
	GEK_insist_catholic_union = { #가톨릭 노동조합 설립
		icon = GFX_decision_POL_organize_strike_two
		highlight_states = {
			highlight_state_targets = {
				state = FROM
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}
		target_array = GEK.controlled_states
		state_target = yes
		target_trigger = {
			FROM = {
				AND = {
					has_dynamic_modifier = {
						modifier = GEK_catholic_state
					}
					NOT = {
						has_dynamic_modifier = {
							modifier = GEK_catholic_trade_union
						}
					}
				}
			}
		}
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 200
		}
		visible = {
			OR = {
				original_tag = GEK
				original_tag = GEA
				original_tag = NSD
				original_tag = KPD
			}
			has_completed_focus = GEK_RM_rel_focus_14
		}
		
		cost = 10
		
		complete_effect = {
			FROM = {
				add_dynamic_modifier = {
					modifier = GEK_catholic_trade_union
				}
			}
		}
	}
	GEK_conversion_to_gottglaubig = { #고.글.비 개종
		icon = GFX_decision_eng_trade_unions_support
		highlight_states = {
			highlight_state_targets = {
				state = FROM
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}
		target_array = GEK.controlled_states
		state_target = yes
		target_trigger = {
			FROM = {
				OR = {
					has_dynamic_modifier = {
						modifier = GEK_ari_religion
					}
					has_dynamic_modifier = {
						modifier = GEK_trm_christianity_state
					}
					has_dynamic_modifier = {
						modifier = GEK_no_religion
					}
					has_dynamic_modifier = {
						modifier = GEK_protestant_state
					}
					has_dynamic_modifier = {
						modifier = GEK_catholic_state
					}
				}
			}
		}
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 200
		}
		visible = {
			OR = {
				original_tag = GEK
				original_tag = GEA
				original_tag = NSD
				original_tag = KPD
			}
			has_completed_focus = GEK_RM_rel_focus_9
			NOT = {
				has_completed_focus = GEK_RM_rel_focus_6
			}
		}
		available = {
			political_power_daily > 0
		}
		
		cost = 10
		
		days_remove = 180

		modifier = {
			political_power_cost = 0.15
			consumer_goods_factor = 0.05
		}
		remove_effect = {
			add_to_variable = {
				GEK_gottglaubig_modifier_political_power_facter = 0.005
			}
			add_to_variable = {
				GEK_gottglaubig_modifier_war_support_factor = 0.005
			}
			FROM = {
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = GEK_catholic_state
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = GEK_catholic_state
					}
					add_dynamic_modifier = {
						modifier = ARI_Gottglaubig_religion
					}
				}
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = GEK_protestant_state
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = GEK_protestant_state
					}
					add_dynamic_modifier = {
						modifier = ARI_Gottglaubig_religion
					}
				}
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = GEK_ari_religion
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = GEK_ari_religion
					}
					add_dynamic_modifier = {
						modifier = ARI_Gottglaubig_religion
					}
				}
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = GEK_no_religion
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = GEK_no_religion
					}
					add_dynamic_modifier = {
						modifier = ARI_Gottglaubig_religion
					}
				}
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = GEK_trm_christianity_state
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = GEK_trm_christianity_state
					}
					add_dynamic_modifier = {
						modifier = GEK_catholic_state
					}
				}
			}
		}
	}
	GEK_conversion_to_no_religion = { #무신론
		icon = GFX_decision_eng_trade_unions_support
		highlight_states = {
			highlight_state_targets = {
				state = FROM
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}
		target_array = GEK.controlled_states
		state_target = yes
		target_trigger = {
			FROM = {
				OR = {
					has_dynamic_modifier = {
						modifier = GEK_ari_religion
					}
					has_dynamic_modifier = {
						modifier = GEK_trm_christianity_state
					}
					has_dynamic_modifier = {
						modifier = GEK_protestant_state
					}
					has_dynamic_modifier = {
						modifier = GEK_catholic_state
					}
				}
			}
		}
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 200
		}
		visible = {
		OR = {
				original_tag = GEK
				original_tag = GEA
				original_tag = NSD
				original_tag = KPD
			}
			has_completed_focus = GEK_RM_rel_focus_11
			NOT = {
				has_completed_focus = GEK_RM_rel_focus_6
			}
		}
		available = {
			political_power_daily > 0
		}
		
		cost = 10
		
		days_remove = 180

		modifier = {
			political_power_cost = 0.15
			consumer_goods_factor = 0.05
		}
		remove_effect = {
			FROM = {
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = GEK_catholic_state
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = GEK_catholic_state
					}
					add_dynamic_modifier = {
						modifier = GEK_no_religion
					}
				}
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = GEK_protestant_state
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = GEK_protestant_state
					}
					add_dynamic_modifier = {
						modifier = GEK_no_religion
					}
				}
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = ARI_Gottglaubig_religion
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = ARI_Gottglaubig_religion
					}
					add_dynamic_modifier = {
						modifier = GEK_no_religion
					}
				}
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = GEK_ari_religion
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = GEK_ari_religion
					}
					add_dynamic_modifier = {
						modifier = GEK_no_religion
					}
				}
				if = {
					limit = {
						FROM = {
							has_dynamic_modifier = {
								modifier = GEK_trm_christianity_state
							}
						}
					}
					remove_dynamic_modifier = {
						modifier = GEK_trm_christianity_state
					}
					add_dynamic_modifier = {
						modifier = GEK_no_religion
					}
				}
			}
		}
	}
	GEK_insist_materialism = { #유물론적 사고관 고취
		icon = GFX_decision_SOV_the_workers_dictatorship
		highlight_states = {
			highlight_state_targets = {
				state = FROM
			}
			highlight_color_while_active = 3
			highlight_color_before_active = 2
		}
		target_array = GEK.controlled_states
		state_target = yes
		target_trigger = {
			FROM = {
				AND = {
					has_dynamic_modifier = {
						modifier = GEK_no_religion
					}
					NOT = {
						has_dynamic_modifier = {
							modifier = GEK_materialism
						}
					}
				}
			}
		}
		on_map_mode = map_and_decisions_view
		ai_will_do = {
			factor = 200
		}
		visible = {
		OR = {
				original_tag = GEK
				original_tag = GEA
				original_tag = NSD
				original_tag = KPD
			}
			has_completed_focus = GEK_RM_rel_focus_12
		}
		
		cost = 10
		
		complete_effect = {
			FROM = {
				add_dynamic_modifier = {
					modifier = GEK_materialism
				}
			}
		}
	}
}




GEK_seize_future_material_reserves_cat = { #미래 소재 약탈
	GEK_seize_future_material_reserves = {
		priority = 1
		icon = GFX_decision_generic_confiscation

		ai_will_do = {
			base = 10
			modifier = {
				factor = 2.5
				check_variable = { GER_industrial_consumer_goods_factor > 0.25 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.5 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.75 }
			}
			modifier = {
				factor = 5
				check_variable = { GER_industrial_consumer_goods_factor > 0.99 }
			}
			modifier = {
				factor = 1.5
				has_war_with_major = yes
			}
			modifier = {
				factor = 1.5
				FROM = {
					is_major = yes
				}
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.15 }
			}
		}

		target_non_existing = yes #This is required for the Decision to even show up. TODO_Danne fix a better solution
		target_array = ROOT.GER_european_targets_array

		target_trigger = {
			FROM = {
				OR = {
					AND = {
						THIS = {
							tag = GEK
						}
						has_country_flag = GEK_has_capitulated_to_germany
					}
					AND = {
						THIS = {
							tag = GEA
						}
						has_country_flag = GEA_has_capitulated_to_germany
					}
					AND = {
						THIS = {
							tag = KPD
						}
						has_country_flag = KPD_has_capitulated_to_germany
					}
					AND = {
						THIS = {
							tag = NSD
						}
						has_country_flag = NSD_has_capitulated_to_germany
					}
				}
				NOT = { #Don't seize France's gold reserves too soon; set up Vichy France first. Set in event France.10 and cleared in event france.14
					has_country_flag = GER_dont_seize_gold_reserves_flag
				}
				any_core_state = {
					is_controlled_by = ROOT
					NOT = { is_core_of = ROOT }
					NOT = { has_state_flag = GEK_seize_future_material_state_flag }
					OR = {
						check_variable = { industrial_complex_level > 0 }
						check_variable = { arms_factory_level > 0 }
						check_variable = { building_level@dockyard > 0 }
					}
				}
			}
		}

		available = {
			FROM = {
				AND = {
					THIS = {
						tag = GEK
					}
					has_country_flag = GEK_has_capitulated_to_germany
				}
				AND = {
					THIS = {
						tag = GEA
					}
					has_country_flag = GEA_has_capitulated_to_germany
				}
				AND = {
					THIS = {
						tag = KPD
					}
					has_country_flag = KPD_has_capitulated_to_germany
				}
				AND = {
					THIS = {
						tag = NSD
					}
					has_country_flag = NSD_has_capitulated_to_germany
				}
				Kivotos_tag = yes
			}
			if = {
				limit = {
					has_dynamic_modifier = {
						modifier = GER_economy_of_conquest_modifier
					}
				}
				ROOT = {
					custom_trigger_tooltip = {
						tooltip = GER_economy_of_conquest_modifier_consumer_goods_tt
						check_variable = { GER_industrial_consumer_goods_factor > 0 }
					}
				}
			}
		}

		target_root_trigger = {
			ROOT = { }
		}
		
		fire_only_once = yes

		cost = 25

		complete_effect = {
			set_temp_variable = { occupied_state_num_factory = 0 } #This will show how many factories in total Germany controls from FROM's cores
			add_to_temp_variable = { GER.occupied_state_num_factory = FROM.num_of_military_factories_in_cores@GER }
			add_to_temp_variable = { GER.occupied_state_num_factory = FROM.num_of_civilian_factories_in_cores@GER }
			add_to_temp_variable = { GER.occupied_state_num_factory = FROM.num_of_naval_factories_in_cores@GER }
			FROM = {
				every_core_state = {
					limit = {
						is_on_continent = europe
						is_fully_controlled_by = ROOT
						NOT = { has_state_flag = GEK_seize_future_material_state_flag }
					}
					add_compliance = -5
					add_resistance = 10
					set_state_flag = GEK_seize_future_material_state_flag
					add_dynamic_modifier = { modifier = GER_overburdened_state_modifier days = 90 }
				}
			}
			
			divide_temp_variable = { occupied_state_num_factory = 200 } #This is necessary since a single factory will increase the occupied_state_num_factory number to 1, which in turn translates to -100% when subtracting from the Consumer Goods. Dividing it by 100 here will give you 1% instead, which is more like what we want.
			multiply_temp_variable = { occupied_state_num_factory = -1 }

			#If Germany has seized Gold Reserves from Soviet states, deduct that amount when seizing the nation wide Gold Reserves from Soviet, so we're not double dipping
			if = { 
				limit = {
					FROM = {
						original_tag = SOV
					}
					#Check if Germany has seized Gold Reserves that needs to be deducted from the total amount
					check_variable = { GER_reduce_russian_CG_bonus < 0 }
				}
				subtract_from_temp_variable = { occupied_state_num_factory = GER_reduce_russian_CG_bonus }
			}
			
			if = {
				limit = {
					has_dynamic_modifier = {
						modifier = GER_economy_of_conquest_modifier
					}
				}
				custom_effect_tooltip = GER_modify_economy_of_conquest_modifier_tt
				add_to_variable = {
					GER_industrial_consumer_goods_factor = occupied_state_num_factory
					tooltip = consumer_goods_factor_tt
				}
				GER_reduce_mefo_bills_penalty = yes
			}
			else = {
				add_political_power = 10
			}
		}
	}
}









GEK_seize_gold_reserves_cat = {
	GEK_seize_gold_reserves = {
		priority = 1
		icon = GFX_decision_generic_confiscation

		ai_will_do = {
			base = 10
			modifier = {
				factor = 2.5
				check_variable = { GER_industrial_consumer_goods_factor > 0.25 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.5 }
			}
			modifier = {
				factor = 2
				check_variable = { GER_industrial_consumer_goods_factor > 0.75 }
			}
			modifier = {
				factor = 5
				check_variable = { GER_industrial_consumer_goods_factor > 0.99 }
			}
			modifier = {
				factor = 1.5
				has_war_with_major = yes
			}
			modifier = {
				factor = 1.5
				FROM = {
					is_major = yes
				}
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.15 }
			}
		}

		target_non_existing = yes #This is required for the Decision to even show up. TODO_Danne fix a better solution
		target_array = ROOT.GER_european_targets_array

		target_trigger = {
			FROM = {
				OR = {
					AND = {
						THIS = {
							tag = GEK
						}
						has_country_flag = GEK_has_capitulated_to_germany
					}
					AND = {
						THIS = {
							tag = GEA
						}
						has_country_flag = GEA_has_capitulated_to_germany
					}
					AND = {
						THIS = {
							tag = KPD
						}
						has_country_flag = KPD_has_capitulated_to_germany
					}
					AND = {
						THIS = {
							tag = NSD
						}
						has_country_flag = NSD_has_capitulated_to_germany
					}
				}
				NOT = { #Don't seize France's gold reserves too soon; set up Vichy France first. Set in event France.10 and cleared in event france.14
					has_country_flag = GER_dont_seize_gold_reserves_flag
				}
				any_core_state = {
					is_controlled_by = ROOT
					NOT = { is_core_of = ROOT }
					OR = {
						check_variable = { industrial_complex_level > 0 }
						check_variable = { arms_factory_level > 0 }
						check_variable = { building_level@dockyard > 0 }
					}
				}
			}
		}

		available = {
			FROM = {
				AND = {
					THIS = {
						tag = GEK
					}
					has_country_flag = GEK_has_capitulated_to_germany
				}
				AND = {
					THIS = {
						tag = GEA
					}
					has_country_flag = GEA_has_capitulated_to_germany
				}
				AND = {
					THIS = {
						tag = KPD
					}
					has_country_flag = KPD_has_capitulated_to_germany
				}
				AND = {
					THIS = {
						tag = NSD
					}
					has_country_flag = NSD_has_capitulated_to_germany
				}
			}
			ROOT = {
				custom_trigger_tooltip = {
					tooltip = GER_economy_of_conquest_modifier_consumer_goods_tt
					check_variable = { GER_industrial_consumer_goods_factor > 0 }
				}
			}
		}

		target_root_trigger = {
			ROOT = { has_dynamic_modifier = { modifier = GER_economy_of_conquest_modifier }}
		}
		
		fire_only_once = yes

		cost = 25

		complete_effect = {
			set_temp_variable = { occupied_state_num_factory = 0 } #This will show how many factories in total Germany controls from FROM's cores
			add_to_temp_variable = { GER.occupied_state_num_factory = FROM.num_of_military_factories_in_cores@GER }
			add_to_temp_variable = { GER.occupied_state_num_factory = FROM.num_of_civilian_factories_in_cores@GER }
			add_to_temp_variable = { GER.occupied_state_num_factory = FROM.num_of_naval_factories_in_cores@GER }
			FROM = {
				every_core_state = {
					limit = {
						is_on_continent = europe
						is_fully_controlled_by = ROOT
						NOT = { has_state_flag = GER_seize_gold_reserves_state_flag }
					}
					add_compliance = -5
					add_resistance = 10
					set_state_flag = GER_seize_gold_reserves_state_flag
					add_dynamic_modifier = { modifier = GER_overburdened_state_modifier days = 90 }
				}
			}
			
			divide_temp_variable = { occupied_state_num_factory = 200 } #This is necessary since a single factory will increase the occupied_state_num_factory number to 1, which in turn translates to -100% when subtracting from the Consumer Goods. Dividing it by 100 here will give you 1% instead, which is more like what we want.
			multiply_temp_variable = { occupied_state_num_factory = -1 }

			#If Germany has seized Gold Reserves from Soviet states, deduct that amount when seizing the nation wide Gold Reserves from Soviet, so we're not double dipping
			if = { 
				limit = {
					FROM = {
						original_tag = SOV
					}
					#Check if Germany has seized Gold Reserves that needs to be deducted from the total amount
					check_variable = { GER_reduce_russian_CG_bonus < 0 }
				}
				subtract_from_temp_variable = { occupied_state_num_factory = GER_reduce_russian_CG_bonus }
			}
			
			custom_effect_tooltip = GER_modify_economy_of_conquest_modifier_tt
			add_to_variable = {
				GER_industrial_consumer_goods_factor = occupied_state_num_factory
				tooltip = consumer_goods_factor_tt
			}
			GER_reduce_mefo_bills_penalty = yes
		}
	}
	GEK_seize_russian_citites_gold_reserves = {
		priority = 1
		icon = GFX_decision_generic_confiscation

		ai_will_do = {
			base = 10
			modifier = {
				factor = 3
				check_variable = { GER_industrial_consumer_goods_factor > 0.25 }
			}
			modifier = {
				factor = 3
				check_variable = { GER_industrial_consumer_goods_factor > 0.5 }
			}
			modifier = {
				factor = 3
				check_variable = { GER_industrial_consumer_goods_factor > 0.75 }
			}
			modifier = {
				factor = 5
				check_variable = { GER_industrial_consumer_goods_factor > 0.99 }
			}
			modifier = {
				factor = 1.5
				has_war_with_major = yes
			}
			modifier = {
				factor = 1.5
				FROM = {
					controller = {
						is_major = yes
					}
				}
			}
			modifier = {
				factor = 0
				check_variable = { GER_industrial_consumer_goods_factor < 0.15 }
			}
		}

		state_target = yes

		targets = { 195 219 217 242 218 206 202 137 }
		#States being targeted: Leningrad, Moscow, Stalingrad, Smolensk, Rostov, Minsk, Kyiv, Crimea

		target_trigger = {
			FROM = {
				owner = {
					original_tag = SOV
					has_war_with = ROOT
					NOT = {
						has_country_flag = GEK_has_capitulated_to_germany
						has_country_flag = GEA_has_capitulated_to_germany
						has_country_flag = KPD_has_capitulated_to_germany
						has_country_flag = NSD_has_capitulated_to_germany
					}
				}
				NOT = { has_state_flag = GER_seize_gold_reserves_state_flag }
				NOT = { is_core_of = ROOT }
				OR = {
					check_variable = { industrial_complex_level > 0 }
					check_variable = { arms_factory_level > 0 }
					check_variable = { building_level@dockyard > 0 }
				}
			}
		}		

		available = {
			FROM = { #This is all for tooltip purposes
				is_fully_controlled_by = ROOT
				owner = {
					NOT = {
						has_country_flag = GEK_has_capitulated_to_germany
						has_country_flag = GEA_has_capitulated_to_germany
						has_country_flag = KPD_has_capitulated_to_germany
						has_country_flag = NSD_has_capitulated_to_germany
					}
				}
			}
		}

		highlight_states = {
			highlight_state_targets = {
				state = FROM
			}
		}

		fire_only_once = yes

		cost = 10

		complete_effect = {

			#All temp variables need to be in the same scope to display the effect tooltip properly
			FROM = {
				set_temp_variable = { occupied_state_num_factory = 0 }
				add_to_temp_variable = { occupied_state_num_factory = arms_factory_level }
				add_to_temp_variable = { occupied_state_num_factory = industrial_complex_level }
				add_to_temp_variable = { occupied_state_num_factory = building_level@dockyard }

				add_resistance = 10
				add_compliance = -5
				set_state_flag = GER_seize_gold_reserves_state_flag
				add_dynamic_modifier = { modifier = GER_overburdened_state_modifier days = 90 }
				
				divide_temp_variable = { occupied_state_num_factory = 200 } #This is necessary since a single factory will increase the occupied_state_num_factory number to 1, which in turn translates to -100% when subtracting from the Consumer Goods. Dividing it by 100 here will give you 1% instead, which is more like what we want.
				multiply_temp_variable = { occupied_state_num_factory = -1 }

				if = {
					limit = {
						FROM = { is_fully_controlled_by = ROOT }
					}
					custom_effect_tooltip = GER_modify_economy_of_conquest_modifier_tt
					add_to_variable = {
						ROOT.GER_industrial_consumer_goods_factor = occupied_state_num_factory
						tooltip = consumer_goods_factor_tt
					}
				}
				else = {
					custom_effect_tooltip = GER_modify_economy_of_conquest_modifier_russian_states_tt
				}

				#Reduce future Soviet Gold Reserves Germany can seize
				add_to_variable = { ROOT.GER_reduce_russian_CG_bonus = occupied_state_num_factory }
			}
			GER_reduce_mefo_bills_penalty = yes
		}
	}
}


# 작전 입안
GEK_operational_planning_category = {

	# Campaign Instructions against [FROM.GetName]
	GEK_operational_planning = {
		icon = GFX_decision_hol_draw_up_staff_plans

		ai_will_do = {
			base = 1
			modifier = {
				factor = 5
				has_war_with = FROM
			}
			modifier = {
				factor = 2
				FROM = {
					is_major = yes
				}
			}
			modifier = {
				factor = 10
				FROM = {
					original_tag = POL
				}
				has_completed_focus = GER_danzig_or_war
			}
			modifier = {
				factor = 10
				FROM = {
					original_tag = SOV
				}
				has_completed_focus = GER_war_with_the_ussr
			}
			#modifier = {
			#	factor = 1.5
			#	has_wargoal_against = FROM
			#}
			modifier = {
				factor = 10
				FROM = {
					original_tag = FRA
				}
				OR = {
					divisions_in_state = {
						state = 6
						size > 5
						#type = armor
					}
					divisions_in_state = {
						state = 977
						size > 5
						#type = armor
					}
					divisions_in_state = {
						state = 34
						size > 5
						#type = armor
					}
					divisions_in_state = {
						state = 980
						size > 5
						#type = armor
					}
				}
			}
			modifier = { #Don't Blitzkrieg France unless you can bypass the Maginot
				factor = 0
				FROM = {
					original_tag = FRA
					any_core_state = {
						state_is_fully_controlled_by_ROOT_subject_or_faction_member = no
						ROOT = {
							divisions_in_state = {
								state = PREV
								size < 1
								#type = armor
							}
						}
					}
					NOT = {
						any_controlled_state = {
							OR = {
								is_core_of = HOL
								is_core_of = BEL
							}
							any_neighbor_state = {
								is_fully_controlled_by = ROOT
							}
						}
					}
				}
				980 = {	state_is_fully_controlled_by_ROOT_subject_or_faction_member = no }
				28 = { state_is_fully_controlled_by_ROOT_subject_or_faction_member = no }
			}
			modifier = { #Save CP and XP for the French offensive
				factor = 0
				FROM = {
					OR = {
						original_tag = HOL
						original_tag = BEL
					}
					is_ai = yes
				}
				has_war_with = FRA
				command_power < 80
				has_army_experience < 40
			}
			modifier = { #Muahahahaha
				factor = 2
				FROM = {
					is_ai = no
				}
			}
			modifier = { #Luxemburg is not worth wasting CP and XP on
				factor = 0
				FROM = {
					original_tag = LUX
					is_ai = yes
				}
			}
			modifier = { #Germany is super aggressive and wastes CP and XP on countries they only have a War Goal on
				factor = 0
				NOT = {
					has_war_with = FROM
				}
			}
			modifier = { #Save CP and XP for the offensive
				factor = 0
				focus_progress = {
				    focus = GER_war_with_the_ussr
				    progress > 0.01
				}
				NOT = {
					has_completed_focus = GER_war_with_the_ussr
				}
				NOT = {
					has_completed_focus = GER_war_with_the_ussr
				}
			}
		}

		
		allowed = {
			OR = {
				original_tag = GEK
				original_tag = GEA
				original_tag = NSD
				original_tag = KPD
			}
		}

		days_remove = 365

		custom_cost_trigger = {
			command_power > 24
			has_army_experience > 14
		}

		custom_cost_text = decision_cost_CP_25_ArmXP_15 

		available = { #target_root_trigger가 될 수 없습니다.
			NOT = {	has_country_flag = GER_operational_planning_flag }
			OR = {
				has_war_with = FROM
				has_wargoal_against = FROM
			}
		}

		target_array = ROOT.GER_war_targets_array

		target_trigger = { #TODO_Danne 이것은 개선이 필요합니다! 
			FROM = {
				has_war_with = ROOT
				any_controlled_state = {
					is_on_continent = europe
					any_neighbor_state = {
						is_controlled_by_ROOT_or_ally = yes
					}
				}
			}
		}

	#	fire_only_once = yes
		
		complete_effect = {
			hidden_effect = {
				add_command_power = -25
				army_experience = -15
				set_country_flag = GER_operational_planning_flag
			}
			#BLITZKRIEG
			if = {
				limit = {
					has_completed_focus = GEAF_adopt_new_panzer_doctrine
				}
				if = { #이를 별도의 수정자로 만들고 스크립트된 loc을 사용하여 “기본” 상태 수정자에 효과를 표시하는 것이 더 쉽습니다.
					limit = {
						has_completed_focus = GEAF_panzergrenadier
					}
					hidden_effect= {
						every_state = {
							limit = {
								is_controlled_by = FROM
								is_on_continent = europe
							}
							add_dynamic_modifier = {
								modifier = GER_motor_and_mech_attack_modifier
								scope = ROOT
								days = 45
							}
						}
					}
				}
				if = { #기본 Blitzkrieg 수정자 추가
					limit = {
						has_completed_focus = GEAF_adopt_new_panzer_doctrine
						NOT = { has_completed_focus = GEAF_advanced_panzer_research }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = europe
						}
						add_dynamic_modifier = {
							modifier = GER_blitzkrieg_modifier
							scope = ROOT
							days = 45
						}
					}
				}
				else_if = { #Blitzkrieg 레벨 2 추가
					limit = {
						has_completed_focus = GEAF_advanced_panzer_research
						NOT = { has_completed_focus = GEAF_expand_kummersdorfs_capacity }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = europe
						}
						add_dynamic_modifier = {
							modifier = GER_blitzkrieg_modifier_lvl_2
							scope = ROOT
							days = 45
						}
					}
				}
				else_if = { #Blitzkrieg 레벨 3 추가
					limit = {
						has_completed_focus = GEAF_expand_kummersdorfs_capacity
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = europe
						}
						add_dynamic_modifier = {
							modifier = GER_blitzkrieg_modifier_lvl_3
							scope = ROOT
							days = 45
						}
					}
				}
				hidden_effect = { #이렇게 하면 GER_operational_planning_flag가 제거되어 독일이 다시 결정을 내릴 수 있습니다. 해당 국가가 항복하면 remove_effect가 작동하지 않습니다.
					country_event = { id = wuw_GER_military_events.1 days = 45 } 
				}
			}
			#BEWEGUNGSKRIEG
			else_if = {
				limit = {
					has_completed_focus = GEAF_the_prussian_legacy
				}
				if = { #이를 별도의 수정자로 만들고 스크립트된 loc을 사용하여 “기본” 상태 수정자에 효과를 표시하는 것이 더 쉽습니다.
					limit = {
						has_completed_focus = GEAF_panzergrenadier
					}
					hidden_effect= {
						every_state = {
							limit = {
								is_controlled_by = FROM
								is_on_continent = europe
							}
							add_dynamic_modifier = {
								modifier = GER_motor_and_mech_attack_modifier
								scope = ROOT
								days = 90
							}
						}
					}
				}
				if = { #기본 bewegungskrieg 수정자 추가
					limit = {
						has_completed_focus =GEAF_the_prussian_legacy
						NOT = { has_completed_focus = GEAF_lessons_of_the_great_war }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = europe
						}
						add_dynamic_modifier = {
							modifier = GER_bewegungskrieg_modifier
							scope = ROOT
							days = 90
						}
					}
				}
				else_if = { #bewegungskrieg 레벨 2 추가
					limit = {
						has_completed_focus = GEAF_lessons_of_the_great_war
						NOT = { has_completed_focus = GEAF_artillery_bombardment }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = europe
						}
						add_dynamic_modifier = {
							modifier = GER_bewegungskrieg_modifier_lvl_2
							scope = ROOT
							days = 90
						}
					}
				}
				else_if = { #bewegungskrieg 레벨 3 추가
					limit = {
						has_completed_focus = GEAF_artillery_bombardment
						NOT = { has_completed_focus = GEAF_stormtroopers }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = europe
						}
						add_dynamic_modifier = {
							modifier = GER_bewegungskrieg_modifier_lvl_3
							scope = ROOT
							days = 90
						}
					}
				}
				else_if = { #bewegungskrieg 레벨 4 추가
					limit = {
						has_completed_focus = GEAF_stormtroopers
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = europe
						}
						add_dynamic_modifier = {
							modifier = GER_bewegungskrieg_modifier_lvl_4
							scope = ROOT
							days = 90
						}
					}
				}				
				hidden_effect = { #이렇게 하면 GER_operational_planning_flag가 제거되어 독일이 다시 결정을 내릴 수 있습니다. 해당 국가가 항복하면 remove_effect가 작동하지 않습니다.
					country_event = { id = wuw_GER_military_events.1 days = 90 } 
				}
			}

			custom_effect_tooltip = generic_skip_one_line_tt
		}
		remove_effect = {
		}
	}
	GEK_operational_planning_africa = {
		icon = GFX_decision_hol_draw_up_staff_plans

		ai_will_do = {
			base = 0 #TODO_DANNE Don't do this for now, concentrate your efforts elsewhere
			#modifier = {
			#	factor = 5
			#	has_war_with = FROM
			#}
			#modifier = {
			#	factor = 2
			#	FROM = {
			#		is_major = yes
			#	}
			#}
		}

		allowed = {
			OR = {
				original_tag = GEK
				original_tag = GEA
				original_tag = NSD
				original_tag = KPD
			}
		}

		days_remove = 365

		custom_cost_trigger = {
			command_power > 24
			has_army_experience > 14
		}

		custom_cost_text = decision_cost_CP_25_ArmXP_15

		visible = { has_completed_focus = GEAF_establish_the_afrikakorps }

		available = { #target_root_trigger가 될 수 없습니다.
			NOT = {	has_country_flag = GER_operational_planning_flag }
			OR = {
				has_war_with = FROM
				has_wargoal_against = FROM
			}
			hidden_trigger = {
				has_completed_focus = GEAF_establish_the_afrikakorps
			}
		}

		target_array = ROOT.GER_war_targets_array

		target_trigger = { #TODO_Danne 이것은 개선이 필요합니다! 
			FROM = {
				has_war_with = ROOT
				any_controlled_state = {
					is_on_continent = africa
					any_neighbor_state = {
						is_controlled_by_ROOT_or_ally = yes
					}
				}
			}
		}

		fire_only_once = yes
		
		complete_effect = {
			hidden_effect = {
				add_command_power = -25
				army_experience = -15
				set_country_flag = GER_operational_planning_flag
			}
			#BLITZKRLEG
			if = {
				limit = {
					has_completed_focus = GEAF_adopt_new_panzer_doctrine
				}
				if = { #이를 별도의 수정자로 만들고 스크립트된 loc을 사용하여 “기본” 상태 수정자에 효과를 표시하는 것이 더 쉽습니다.
					limit = {
						has_completed_focus = GEAF_panzergrenadier
					}
					hidden_effect= {
						every_state = {
							limit = {
								is_controlled_by = FROM
								is_on_continent = africa
							}
							add_dynamic_modifier = {
								modifier = GER_motor_and_mech_attack_modifier
								scope = ROOT
								days = 45
							}
						}
					}
				}
				if = { #기본 Blitzkrieg 수정자 추가
					limit = {
						has_completed_focus = GEAF_adopt_new_panzer_doctrine
						NOT = { has_completed_focus = GEAF_advanced_panzer_research }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = africa
						}
						add_dynamic_modifier = {
							modifier = GER_blitzkrieg_modifier
							scope = ROOT
							days = 45
						}
					}
				}
				else_if = { #Blitzkrieg 레벨 2 추가
					limit = {
						has_completed_focus = GEAF_advanced_panzer_research
						NOT = { has_completed_focus = GEAF_expand_kummersdorfs_capacity }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = africa
						}
						add_dynamic_modifier = {
							modifier = GER_blitzkrieg_modifier_lvl_2
							scope = ROOT
							days = 45
						}
					}
				}
				else_if = { #Blitzkrieg 레벨 3 추가
					limit = {
						has_completed_focus = GEAF_expand_kummersdorfs_capacity
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = africa
						}
						add_dynamic_modifier = {
							modifier = GER_blitzkrieg_modifier_lvl_3
							scope = ROOT
							days = 45
						}
					}
				}
				hidden_effect = { #이렇게 하면 GER_operational_planning_flag가 제거되어 독일이 다시 결정을 내릴 수 있습니다. 해당 국가가 항복하면 remove_effect가 작동하지 않습니다.
					country_event = { id = wuw_GER_military_events.1 days = 45 } 
				}
			}
			#BEWEGUNGSKRIEG
			else_if = {
				limit = {
					has_completed_focus = GEAF_the_prussian_legacy
				}
				if = { #이를 별도의 수정자로 만들고 스크립트된 loc을 사용하여 “기본” 상태 수정자에 효과를 표시하는 것이 더 쉽습니다.
					limit = {
						has_completed_focus = GEAF_panzergrenadier
					}
					hidden_effect= {
						every_state = {
							limit = {
								is_controlled_by = FROM
								is_on_continent = africa
							}
							add_dynamic_modifier = {
								modifier = GER_motor_and_mech_attack_modifier
								scope = ROOT
								days = 90
							}
						}
					}
				}
				if = { #기본 bewegungskrieg 수정자 추가
					limit = {
						has_completed_focus = GEAF_the_prussian_legacy
						NOT = { has_completed_focus = GEAF_lessons_of_the_great_war }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = africa
						}
						add_dynamic_modifier = {
							modifier = GER_bewegungskrieg_modifier
							scope = ROOT
							days = 90
						}
					}
				}
				else_if = { #bewegungskrieg 레벨 2 추가
					limit = {
						has_completed_focus = GEAF_lessons_of_the_great_war
						NOT = { has_completed_focus = GEAF_artillery_bombardment }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = africa
						}
						add_dynamic_modifier = {
							modifier = GER_bewegungskrieg_modifier_lvl_2
							scope = ROOT
							days = 90
						}
					}
				}
				else_if = { #bewegungskrieg 레벨 3 추가
					limit = {
						has_completed_focus = GEAF_artillery_bombardment
						NOT = { has_completed_focus = GEAF_stormtroopers }
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = africa
						}
						add_dynamic_modifier = {
							modifier = GER_bewegungskrieg_modifier_lvl_3
							scope = ROOT
							days = 90
						}
					}
				}
				else_if = { #bewegungskrieg 레벨 4 추가
					limit = {
						has_completed_focus = GEAF_stormtroopers
					}
					every_state = {
						limit = {
							is_controlled_by = FROM
							is_on_continent = africa
						}
						add_dynamic_modifier = {
							modifier = GER_bewegungskrieg_modifier_lvl_4
							scope = ROOT
							days = 90
						}
					}
				}				
				hidden_effect = { #이렇게 하면 GER_operational_planning_flag가 제거되어 독일이 다시 결정을 내릴 수 있습니다. 해당 국가가 항복하면 remove_effect가 작동하지 않습니다.
					country_event = { id = wuw_GER_military_events.1 days = 90 } 
				}
			}
			custom_effect_tooltip = generic_skip_one_line_tt
		}
		remove_effect = {
		}
	}
}